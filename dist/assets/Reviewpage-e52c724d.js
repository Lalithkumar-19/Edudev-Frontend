import{c as Q,j as e,l as be,m as _e,s as W,n as ae,o as c,v as je,q as we,r as _,t as Re,w as ie,x as oe,y as Ne,z as Fe,A as Ce,D as Ae,E as U,G as Se,e as Ve,H as I}from"./index-ecc2254b.js";const Le=Q(e.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),Me=Q(e.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),ze=Q(e.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function He(n){return _e("MuiRating",n)}const Ee=be("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),T=Ee,Ie=["value"],Te=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function $e(n,s,t){return n<s?s:n>t?t:n}function ke(n){const s=n.toString().split(".")[1];return s?s.length:0}function K(n,s){if(n==null)return n;const t=Math.round(n/s)*s;return Number(t.toFixed(ke(s)))}const Oe=n=>{const{classes:s,size:t,readOnly:m,disabled:l,emptyValueFocused:p,focusVisible:v}=n,i={root:["root",`size${ae(t)}`,l&&"disabled",v&&"focusVisible",m&&"readOnly"],label:["label","pristine"],labelEmptyValue:[p&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Se(i,He,s)},Pe=W("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,s)=>{const{ownerState:t}=n;return[{[`& .${T.visuallyHidden}`]:s.visuallyHidden},s.root,s[`size${ae(t.size)}`],t.readOnly&&s.readOnly]}})(({theme:n,ownerState:s})=>c({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${T.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${T.focusVisible} .${T.iconActive}`]:{outline:"1px solid #999"},[`& .${T.visuallyHidden}`]:je},s.size==="small"&&{fontSize:n.typography.pxToRem(18)},s.size==="large"&&{fontSize:n.typography.pxToRem(30)},s.readOnly&&{pointerEvents:"none"})),le=W("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},s)=>[s.label,n.emptyValueFocused&&s.labelEmptyValueActive]})(({ownerState:n})=>c({cursor:"inherit"},n.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),Be=W("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,s)=>{const{ownerState:t}=n;return[s.icon,t.iconEmpty&&s.iconEmpty,t.iconFilled&&s.iconFilled,t.iconHover&&s.iconHover,t.iconFocus&&s.iconFocus,t.iconActive&&s.iconActive]}})(({theme:n,ownerState:s})=>c({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none"},s.iconActive&&{transform:"scale(1.2)"},s.iconEmpty&&{color:(n.vars||n).palette.action.disabled})),De=W("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>we(n)&&n!=="iconActive",overridesResolver:(n,s)=>{const{iconActive:t}=n;return[s.decimal,t&&s.iconActive]}})(({iconActive:n})=>c({position:"relative"},n&&{transform:"scale(1.2)"}));function Ue(n){const s=ie(n,Ie);return e.jsx("span",c({},s))}function te(n){const{classes:s,disabled:t,emptyIcon:m,focus:l,getLabelText:p,highlightSelectedOnly:v,hover:i,icon:h,IconContainerComponent:L,isActive:$,itemValue:d,labelProps:M,name:y,onBlur:X,onChange:R,onClick:N,onFocus:k,readOnly:O,ownerState:r,ratingValue:g,ratingValueRounded:q}=n,F=v?d===g:d<=g,P=d<=i,C=d<=l,G=d===q,z=oe(),j=e.jsx(Be,{as:L,value:d,className:U(s.icon,F?s.iconFilled:s.iconEmpty,P&&s.iconHover,C&&s.iconFocus,$&&s.iconActive),ownerState:c({},r,{iconEmpty:!F,iconFilled:F,iconHover:P,iconFocus:C,iconActive:$}),children:m&&!F?m:h});return O?e.jsx("span",c({},M,{children:j})):e.jsxs(_.Fragment,{children:[e.jsxs(le,c({ownerState:c({},r,{emptyValueFocused:void 0}),htmlFor:z},M,{children:[j,e.jsx("span",{className:s.visuallyHidden,children:p(d)})]})),e.jsx("input",{className:s.visuallyHidden,onFocus:k,onBlur:X,onChange:R,onClick:N,disabled:t,value:d,id:z,type:"radio",name:y,checked:G})]})}const We=e.jsx(Me,{fontSize:"inherit"}),Xe=e.jsx(ze,{fontSize:"inherit"});function qe(n){return`${n} Star${n!==1?"s":""}`}const Ge=_.forwardRef(function(s,t){const m=Re({name:"MuiRating",props:s}),{className:l,defaultValue:p=null,disabled:v=!1,emptyIcon:i=Xe,emptyLabelText:h="Empty",getLabelText:L=qe,highlightSelectedOnly:$=!1,icon:d=We,IconContainerComponent:M=Ue,max:y=5,name:X,onChange:R,onChangeActive:N,onMouseLeave:k,onMouseMove:O,precision:r=1,readOnly:g=!1,size:q="medium",value:F}=m,P=ie(m,Te),C=oe(X),[G,z]=Ne({controlled:F,default:p,name:"Rating"}),j=K(G,r),re=Fe(),[{hover:f,focus:B},H]=_.useState({hover:-1,focus:-1});let A=j;f!==-1&&(A=f),B!==-1&&(A=B);const{isFocusVisibleRef:Z,onBlur:ce,onFocus:de,ref:ue}=Ce(),[me,Y]=_.useState(!1),ee=_.useRef(),pe=Ae(ue,ee,t),he=a=>{O&&O(a);const o=ee.current,{right:u,left:D}=o.getBoundingClientRect(),{width:S}=o.firstChild.getBoundingClientRect();let V;re.direction==="rtl"?V=(u-a.clientX)/(S*y):V=(a.clientX-D)/(S*y);let x=K(y*V+r/2,r);x=$e(x,r,y),H(w=>w.hover===x&&w.focus===x?w:{hover:x,focus:x}),Y(!1),N&&f!==x&&N(a,x)},ve=a=>{k&&k(a);const o=-1;H({hover:o,focus:o}),N&&f!==o&&N(a,o)},se=a=>{let o=a.target.value===""?null:parseFloat(a.target.value);f!==-1&&(o=f),z(o),R&&R(a,o)},ge=a=>{a.clientX===0&&a.clientY===0||(H({hover:-1,focus:-1}),z(null),R&&parseFloat(a.target.value)===j&&R(a,null))},fe=a=>{de(a),Z.current===!0&&Y(!0);const o=parseFloat(a.target.value);H(u=>({hover:u.hover,focus:o}))},xe=a=>{if(f!==-1)return;ce(a),Z.current===!1&&Y(!1);const o=-1;H(u=>({hover:u.hover,focus:o}))},[ye,ne]=_.useState(!1),E=c({},m,{defaultValue:p,disabled:v,emptyIcon:i,emptyLabelText:h,emptyValueFocused:ye,focusVisible:me,getLabelText:L,icon:d,IconContainerComponent:M,max:y,precision:r,readOnly:g,size:q}),b=Oe(E);return e.jsxs(Pe,c({ref:pe,onMouseMove:he,onMouseLeave:ve,className:U(b.root,l,g&&"MuiRating-readOnly"),ownerState:E,role:g?"img":null,"aria-label":g?L(A):null},P,{children:[Array.from(new Array(y)).map((a,o)=>{const u=o+1,D={classes:b,disabled:v,emptyIcon:i,focus:B,getLabelText:L,highlightSelectedOnly:$,hover:f,icon:d,IconContainerComponent:M,name:C,onBlur:xe,onChange:se,onClick:ge,onFocus:fe,ratingValue:A,ratingValueRounded:j,readOnly:g,ownerState:E},S=u===Math.ceil(A)&&(f!==-1||B!==-1);if(r<1){const V=Array.from(new Array(1/r));return e.jsx(De,{className:U(b.decimal,S&&b.iconActive),ownerState:E,iconActive:S,children:V.map((x,w)=>{const J=K(u-1+(w+1)*r,r);return e.jsx(te,c({},D,{isActive:!1,itemValue:J,labelProps:{style:V.length-1===w?{}:{width:J===A?`${(w+1)*r*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),J)})},u)}return e.jsx(te,c({},D,{isActive:S,itemValue:u}),u)}),!g&&!v&&e.jsxs(le,{className:U(b.label,b.labelEmptyValue),ownerState:E,children:[e.jsx("input",{className:b.visuallyHidden,value:"",id:`${C}-empty`,type:"radio",name:C,checked:j==null,onFocus:()=>ne(!0),onBlur:()=>ne(!1),onChange:se}),e.jsx("span",{className:b.visuallyHidden,children:h})]})]}))}),Ye=Ge;function Ke({id:n,reviews:s}){const[t,m]=_.useState(1),[l,p]=_.useState({rating:"",review_content:""});console.log(l);const v=async()=>{if(l.rating!==""&&l.review_content!=="")if(localStorage.getItem("token")&&localStorage.getItem("userdata"))try{await Ve.post(`https://edudev-server-1.onrender.com/add_course_review?id=${n}&token=${localStorage.getItem("token")} `,l,{withCredentials:!0}).then(i=>{i.status===200?(I.success("Successfully Review Added"),p({rating:"",review_content:""})):I.error("There is something wrong..try later")}).catch(i=>{I.error("Internal server error occured "),console.log("error is ",i)})}catch(i){console.log("There is a error occured",i)}else I.error("please login to proceed");else I.error("PLease fill all fields")};return e.jsxs("div",{className:"review_page",children:[e.jsx("h1",{className:"review_page_title",style:{marginLeft:"0px"},children:"Reviews"}),e.jsxs("div",{className:"ratings",children:[e.jsxs("section",{className:"overall_rating",children:[e.jsx("span",{style:{fontSize:"30px",textAlign:"center"},className:"rating_number",children:"4.7"}),e.jsxs("p",{style:{marginTop:"2px"},children:[" ⭐⭐⭐⭐⭐",e.jsx("br",{}),"(",Array.isArray(s)&&s.length," Reviews)"]})]}),e.jsxs("div",{className:"ratings_indicators",children:[e.jsxs("section",{className:"rating_bars",children:[e.jsx("span",{className:"main_rate_bar",children:e.jsx("span",{className:"inner_rate_bar",style:{width:"90%"}})}),e.jsx("span",{className:"main_rate_bar",children:e.jsx("span",{className:"inner_rate_bar",style:{width:"70%"}})}),e.jsx("span",{className:"main_rate_bar",children:e.jsx("span",{className:"inner_rate_bar",style:{width:"50%"}})}),e.jsx("span",{className:"main_rate_bar",children:e.jsx("span",{className:"inner_rate_bar",style:{width:"30%"}})}),e.jsx("span",{className:"main_rate_bar",children:e.jsx("span",{className:"inner_rate_bar",style:{width:"10%"}})})]}),e.jsxs("section",{className:"rating_stars",children:[e.jsx("span",{className:"fivestar",children:" ⭐⭐⭐⭐⭐"}),e.jsx("span",{className:"fourstar",children:" ⭐⭐⭐⭐"}),e.jsx("span",{className:"threestar",children:" ⭐⭐⭐"}),e.jsx("span",{className:"twostar",children:" ⭐⭐"}),e.jsx("span",{className:"onestar",children:" ⭐"})]})]})]}),e.jsxs("div",{className:"recent_reviews",children:[e.jsx("h1",{className:"recent_reviews_title",children:"Recent Review"}),e.jsx("section",{className:"main_reviews",children:s&&Array.isArray(s)&&s.map((i,h)=>{if(h!==t-1)return e.jsxs("div",{className:"student_reviews_left_box",children:[e.jsx("p",{children:i.review_content}),e.jsxs("div",{className:"student_details",children:[e.jsx("img",{src:i.reviwer_details.dp,alt:"student"}),e.jsxs("span",{className:"about_student",children:[e.jsxs("span",{className:"student_name",style:{width:"150px",marginLeft:"0px"},children:[i.reviwer_details.name,e.jsx("p",{style:{margin:"1px",textAlign:"start",width:"auto"},children:i.reviwer_details.profession})]}),e.jsxs("p",{className:"student_rating",style:{backgroundColor:"maroon",width:"50px",color:"white",textAlign:"center"},children:[i.rating,"⭐"]})]})]})]},h)})}),e.jsx("div",{className:"all_Reviews",children:e.jsxs("button",{className:"click_button",onClick:()=>{m(t+5)},children:["Load more ",e.jsx("span",{children:e.jsx(Le,{})})]})}),e.jsxs("section",{className:"new_review_form",id:"new_review_form",children:[e.jsx("h1",{className:"review_header_title",children:"Write a Review"}),e.jsx(Ye,{name:"simple-controlled",value:l.rating,onChange:(i,h)=>{p({...l,rating:h}),setRating(h)}}),e.jsxs("form",{className:"review_taken_form",style:{display:"flex",flexDirection:"column",alignItems:"start"},children:[e.jsx("textarea",{className:"review_title",placeholder:"Review Description",type:"text",name:"review_title",value:l.review_content,onChange:i=>p({...l,review_content:i.target.value}),required:!0,style:{resize:"none",height:"50px",width:"400px",textIndent:"5px"}}),e.jsx("button",{type:"button",id:"button",onClick:v,className:"submit_button",children:"Submit Review"})]})]})]})]})}export{Ke as R};
